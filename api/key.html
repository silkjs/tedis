<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>key | Tedis</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/images/favicon.png">
    <link rel="manifest" href="/manifest.json">
    <link rel="apple-touch-icon" href="/icons/apple-touch-icon-152x152.png">
    <meta name="description" content="">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/icons/msapplication-icon-144x144.png">
    <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/assets/css/0.styles.9c80de7b.css" as="style"><link rel="preload" href="/assets/js/app.16e1a090.js" as="script"><link rel="preload" href="/assets/js/2.c2a5290c.js" as="script"><link rel="preload" href="/assets/js/1.bcf7a7a0.js" as="script"><link rel="preload" href="/assets/js/28.d42813cd.js" as="script"><link rel="prefetch" href="/assets/js/10.28bb3cec.js"><link rel="prefetch" href="/assets/js/11.1f244064.js"><link rel="prefetch" href="/assets/js/12.80ebd603.js"><link rel="prefetch" href="/assets/js/13.0b4fa241.js"><link rel="prefetch" href="/assets/js/14.4e248697.js"><link rel="prefetch" href="/assets/js/15.6c2990fe.js"><link rel="prefetch" href="/assets/js/16.09cf0dd7.js"><link rel="prefetch" href="/assets/js/17.4fc339fa.js"><link rel="prefetch" href="/assets/js/18.38200cd0.js"><link rel="prefetch" href="/assets/js/19.67f2a49a.js"><link rel="prefetch" href="/assets/js/20.d3f6c7fb.js"><link rel="prefetch" href="/assets/js/21.d64264ea.js"><link rel="prefetch" href="/assets/js/22.6877d8f0.js"><link rel="prefetch" href="/assets/js/23.27ffa9f4.js"><link rel="prefetch" href="/assets/js/24.292775b6.js"><link rel="prefetch" href="/assets/js/25.0a67d3da.js"><link rel="prefetch" href="/assets/js/26.0f0000f3.js"><link rel="prefetch" href="/assets/js/27.7fd81530.js"><link rel="prefetch" href="/assets/js/29.1d7a9b3c.js"><link rel="prefetch" href="/assets/js/3.c2fd3112.js"><link rel="prefetch" href="/assets/js/30.50955160.js"><link rel="prefetch" href="/assets/js/31.d28c53d2.js"><link rel="prefetch" href="/assets/js/32.cfa35c41.js"><link rel="prefetch" href="/assets/js/33.d42bf81f.js"><link rel="prefetch" href="/assets/js/34.07921881.js"><link rel="prefetch" href="/assets/js/35.062deb4e.js"><link rel="prefetch" href="/assets/js/36.fb5a67c6.js"><link rel="prefetch" href="/assets/js/37.f8e764f6.js"><link rel="prefetch" href="/assets/js/38.0014f88b.js"><link rel="prefetch" href="/assets/js/39.ba1c1f70.js"><link rel="prefetch" href="/assets/js/4.2dda509e.js"><link rel="prefetch" href="/assets/js/40.f8c940ea.js"><link rel="prefetch" href="/assets/js/41.6a80b03d.js"><link rel="prefetch" href="/assets/js/42.5bdc16c8.js"><link rel="prefetch" href="/assets/js/43.8b214183.js"><link rel="prefetch" href="/assets/js/44.92586fa0.js"><link rel="prefetch" href="/assets/js/45.d346ef8b.js"><link rel="prefetch" href="/assets/js/46.cdd3e5c2.js"><link rel="prefetch" href="/assets/js/5.6c4c7788.js"><link rel="prefetch" href="/assets/js/6.8a89b7a1.js"><link rel="prefetch" href="/assets/js/7.20a2e975.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.0b5706cb.js">
    <link rel="stylesheet" href="/assets/css/0.styles.9c80de7b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Tedis</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="/api/" class="nav-link router-link-active">
  API
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">Translations</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">Translations</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/api/key.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/zh/api/key.html" class="nav-link">
  简体中文
</a></li></ul></div></div> <a href="https://github.com/silkjs/tedis" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="/api/" class="nav-link router-link-active">
  API
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">Translations</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">Translations</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/api/key.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/zh/api/key.html" class="nav-link">
  简体中文
</a></li></ul></div></div> <a href="https://github.com/silkjs/tedis" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/api/" aria-current="page" class="sidebar-link">Type interface</a></li><li><a href="/api/base.html" class="sidebar-link">base</a></li><li><a href="/api/pool.html" class="sidebar-link">pool</a></li><li><a href="/api/key.html" aria-current="page" class="active sidebar-link">key</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/api/key.html#del" class="sidebar-link">del</a></li><li class="sidebar-sub-header"><a href="/api/key.html#exists" class="sidebar-link">exists</a></li><li class="sidebar-sub-header"><a href="/api/key.html#expire" class="sidebar-link">expire</a></li><li class="sidebar-sub-header"><a href="/api/key.html#expireat" class="sidebar-link">expireat</a></li><li class="sidebar-sub-header"><a href="/api/key.html#keys" class="sidebar-link">keys</a></li><li class="sidebar-sub-header"><a href="/api/key.html#move" class="sidebar-link">move</a></li><li class="sidebar-sub-header"><a href="/api/key.html#persist" class="sidebar-link">persist</a></li><li class="sidebar-sub-header"><a href="/api/key.html#pexpire" class="sidebar-link">pexpire</a></li><li class="sidebar-sub-header"><a href="/api/key.html#pexpireat" class="sidebar-link">pexpireat</a></li><li class="sidebar-sub-header"><a href="/api/key.html#pttl" class="sidebar-link">pttl</a></li><li class="sidebar-sub-header"><a href="/api/key.html#randomkey" class="sidebar-link">randomkey</a></li><li class="sidebar-sub-header"><a href="/api/key.html#rename" class="sidebar-link">rename</a></li><li class="sidebar-sub-header"><a href="/api/key.html#renamenx" class="sidebar-link">renamenx</a></li><li class="sidebar-sub-header"><a href="/api/key.html#ttl" class="sidebar-link">ttl</a></li><li class="sidebar-sub-header"><a href="/api/key.html#type" class="sidebar-link">type</a></li></ul></li><li><a href="/api/string.html" class="sidebar-link">string</a></li><li><a href="/api/hash.html" class="sidebar-link">hash</a></li><li><a href="/api/list.html" class="sidebar-link">list</a></li><li><a href="/api/set.html" class="sidebar-link">set</a></li><li><a href="/api/zset.html" class="sidebar-link">zset</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="key"><a href="#key" class="header-anchor">#</a> key</h1> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>This section of sample <code>Key</code> as Tedis instance object, demonstration part omitted async function of the external layer</p></div> <h2 id="del"><a href="#del" class="header-anchor">#</a> del</h2> <p>Removes the specified keys. A key is ignored if it does not exist.</p> <h4 id="redis"><a href="#redis" class="header-anchor">#</a> <em>Redis</em> <a href="https://redis.io/commands/del" target="_blank" rel="noopener noreferrer">+<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h4> <ul><li>available: <code>&gt;= 1.0.0</code></li> <li>complexity: <code>O(N)</code></li> <li>return: The number of keys that were removed.</li> <li>examples:</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code>redis<span class="token operator">&gt;</span> SET key1 <span class="token string">&quot;Hello&quot;</span>
<span class="token string">&quot;OK&quot;</span>
redis<span class="token operator">&gt;</span> SET key2 <span class="token string">&quot;World&quot;</span>
<span class="token string">&quot;OK&quot;</span>
redis<span class="token operator">&gt;</span> DEL key1 key2 key3
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span>
</code></pre></div><h4 id="tedis"><a href="#tedis" class="header-anchor">#</a> <em>Tedis</em></h4> <ul><li>interface:</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token function">del</span><span class="token punctuation">(</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token operator">...</span>keys<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>example:</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">await</span> Key<span class="token punctuation">.</span><span class="token function">del</span><span class="token punctuation">(</span><span class="token string">&quot;key1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;key2&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;key3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 2</span>
</code></pre></div> <h2 id="exists"><a href="#exists" class="header-anchor">#</a> exists</h2> <p>Returns if key exists.</p> <p>Since Redis 3.0.3 it is possible to specify multiple keys instead of a single one. In such a case, it returns the total number of keys existing. Note that returning 1 or 0 for a single key is just a special case of the variadic usage, so the command is completely backward compatible.</p> <p>The user should be aware that if the same existing key is mentioned in the arguments multiple times, it will be counted multiple times. So if somekey exists, EXISTS somekey somekey will return 2.</p> <h4 id="redis-2"><a href="#redis-2" class="header-anchor">#</a> <em>Redis</em> <a href="https://redis.io/commands/exists" target="_blank" rel="noopener noreferrer">+<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h4> <ul><li>available: <code>&gt;= 1.0.0</code></li> <li>complexity: <code>O(1)</code></li> <li>return:
<ul><li>1 if the key exists.</li> <li>0 if the key does not exist.。</li></ul></li> <li>examples:</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code>redis<span class="token operator">&gt;</span> SET key1 <span class="token string">&quot;Hello&quot;</span>
<span class="token string">&quot;OK&quot;</span>
redis<span class="token operator">&gt;</span> EXISTS key1
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
redis<span class="token operator">&gt;</span> EXISTS nosuchkey
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">0</span>
redis<span class="token operator">&gt;</span> SET key2 <span class="token string">&quot;World&quot;</span>
<span class="token string">&quot;OK&quot;</span>
redis<span class="token operator">&gt;</span> EXISTS key1 key2 nosuchkey
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span>
</code></pre></div><h4 id="tedis-2"><a href="#tedis-2" class="header-anchor">#</a> <em>Tedis</em></h4> <ul><li>interface:</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token function">exists</span><span class="token punctuation">(</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token operator">...</span>keys<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>example:</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">await</span> Key<span class="token punctuation">.</span><span class="token function">exists</span><span class="token punctuation">(</span><span class="token string">&quot;key1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 1</span>
<span class="token keyword">await</span> Key<span class="token punctuation">.</span><span class="token function">exists</span><span class="token punctuation">(</span><span class="token string">&quot;nosuchkey&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 0</span>
<span class="token keyword">await</span> Key<span class="token punctuation">.</span><span class="token function">exists</span><span class="token punctuation">(</span><span class="token string">&quot;key1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;key2&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;nosuchkey&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 2</span>
</code></pre></div><h2 id="expire"><a href="#expire" class="header-anchor">#</a> expire</h2> <p>Set a timeout on key. After the timeout has expired, the key will automatically be deleted. A key with an associated timeout is often said to be volatile in Redis terminology.</p> <h4 id="redis-3"><a href="#redis-3" class="header-anchor">#</a> <em>Redis</em> <a href="https://redis.io/commands/expire" target="_blank" rel="noopener noreferrer">+<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h4> <ul><li>available: <code>&gt;= 1.0.0</code></li> <li>complexity: <code>O(1)</code></li> <li>return:
<ul><li>1 if the timeout was set.</li> <li>0 if key does not exist.</li></ul></li> <li>examples:</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code>redis<span class="token operator">&gt;</span> SET mykey <span class="token string">&quot;Hello&quot;</span>
<span class="token string">&quot;OK&quot;</span>
redis<span class="token operator">&gt;</span> EXPIRE mykey <span class="token number">10</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
</code></pre></div><h4 id="tedis-3"><a href="#tedis-3" class="header-anchor">#</a> <em>Tedis</em></h4> <ul><li>interface:</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token function">expire</span><span class="token punctuation">(</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> seconds<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>example:</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">await</span> Key<span class="token punctuation">.</span><span class="token function">expire</span><span class="token punctuation">(</span><span class="token string">&quot;mykey&quot;</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 1</span>
</code></pre></div><h2 id="expireat"><a href="#expireat" class="header-anchor">#</a> expireat</h2> <p>EXPIREAT has the same effect and semantic as EXPIRE, but instead of specifying the number of seconds representing the TTL (time to live), it takes an absolute Unix timestamp (seconds since January 1, 1970). A timestamp in the past will delete the key immediately.</p> <p>Please for the specific semantics of the command refer to the documentation of EXPIRE.</p> <h4 id="redis-4"><a href="#redis-4" class="header-anchor">#</a> <em>Redis</em> <a href="https://redis.io/commands/expireat" target="_blank" rel="noopener noreferrer">+<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h4> <ul><li>available: <code>&gt;= 1.0.0</code></li> <li>complexity: <code>O(1)</code></li> <li>return:
<ul><li>1 if the timeout was set.</li> <li>0 if key does not exist.</li></ul></li> <li>examples:</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code>redis<span class="token operator">&gt;</span> SET mykey <span class="token string">&quot;Hello&quot;</span>
<span class="token string">&quot;OK&quot;</span>
redis<span class="token operator">&gt;</span> EXPIREAT mykey <span class="token number">1293840000</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
</code></pre></div><h4 id="tedis-4"><a href="#tedis-4" class="header-anchor">#</a> <em>Tedis</em></h4> <ul><li>interface:</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token function">expireat</span><span class="token punctuation">(</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>example:</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">await</span> Key<span class="token punctuation">.</span><span class="token function">expireat</span><span class="token punctuation">(</span><span class="token string">&quot;mykey&quot;</span><span class="token punctuation">,</span> <span class="token number">1293840000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 1</span>
</code></pre></div><h2 id="keys"><a href="#keys" class="header-anchor">#</a> keys</h2> <p>Returns all keys matching pattern.</p> <h4 id="redis-5"><a href="#redis-5" class="header-anchor">#</a> <em>Redis</em> <a href="https://redis.io/commands/keys" target="_blank" rel="noopener noreferrer">+<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h4> <ul><li>available: <code>&gt;= 1.0.0</code></li> <li>complexity: <code>O(N)</code></li> <li>return: list of keys matching pattern.</li> <li>examples:</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code>redis<span class="token operator">&gt;</span> MSET firstname Jack lastname Stuntman age <span class="token number">35</span>
<span class="token string">&quot;OK&quot;</span>
redis<span class="token operator">&gt;</span> KEYS *name*
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;firstname&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;lastname&quot;</span>
redis<span class="token operator">&gt;</span> KEYS a??
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;age&quot;</span>
redis<span class="token operator">&gt;</span> KEYS *
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;firstname&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;lastname&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;age&quot;</span>
</code></pre></div><h4 id="tedis-5"><a href="#tedis-5" class="header-anchor">#</a> <em>Tedis</em></h4> <ul><li>interface:</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token function">keys</span><span class="token punctuation">(</span>pattern<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>example:</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">await</span> Key<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token string">&quot;*name*&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// [&quot;firstname&quot;, &quot;lastname&quot;];</span>
<span class="token keyword">await</span> Key<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token string">&quot;a??&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// [&quot;age&quot;];</span>
<span class="token keyword">await</span> Key<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token string">&quot;*&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// [&quot;firstname&quot;, &quot;lastname&quot;, &quot;age&quot;];</span>
</code></pre></div><h2 id="move"><a href="#move" class="header-anchor">#</a> move</h2> <p>Move key from the currently selected database (see SELECT) to the specified destination database. When key already exists in the destination database, or it does not exist in the source database, it does nothing. It is possible to use MOVE as a locking primitive because of this.</p> <h4 id="redis-6"><a href="#redis-6" class="header-anchor">#</a> <em>Redis</em> <a href="https://redis.io/commands/move" target="_blank" rel="noopener noreferrer">+<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h4> <ul><li>available: <code>&gt;= 1.0.0</code></li> <li>complexity: <code>O(1)</code></li> <li>return:
<ul><li>1 if key was moved.</li> <li>0 if key was not moved.</li></ul></li> <li>examples:</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code>redis<span class="token operator">&gt;</span> SELECT <span class="token number">0</span>
<span class="token string">&quot;OK&quot;</span>
redis<span class="token operator">&gt;</span> SET mykey <span class="token string">&quot;secret base - Zone&quot;</span>
<span class="token string">&quot;OK&quot;</span>
redis<span class="token operator">&gt;</span> MOVE mykey <span class="token number">1</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
</code></pre></div><h4 id="tedis-6"><a href="#tedis-6" class="header-anchor">#</a> <em>Tedis</em></h4> <ul><li>interface:</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token function">move</span><span class="token punctuation">(</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> db<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>example:</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code>Key<span class="token punctuation">.</span><span class="token function">move</span><span class="token punctuation">(</span><span class="token string">&quot;mykey&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 1</span>
</code></pre></div><h2 id="persist"><a href="#persist" class="header-anchor">#</a> persist</h2> <p>Remove the existing timeout on key, turning the key from volatile (a key with an expire set) to persistent (a key that will never expire as no timeout is associated).</p> <h4 id="redis-7"><a href="#redis-7" class="header-anchor">#</a> <em>Redis</em> <a href="https://redis.io/commands/persist" target="_blank" rel="noopener noreferrer">+<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h4> <ul><li>available: <code>&gt;= 2.2.0</code></li> <li>complexity: <code>O(1)</code></li> <li>return:
<ul><li>1 if the timeout was removed.</li> <li>0 if key does not exist or does not have an associated timeout.</li></ul></li> <li>examples:</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code>redis<span class="token operator">&gt;</span> SET mykey <span class="token string">&quot;Hello&quot;</span>
<span class="token string">&quot;OK&quot;</span>
redis<span class="token operator">&gt;</span> EXPIRE mykey <span class="token number">10</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
redis<span class="token operator">&gt;</span> TTL mykey
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">10</span>
redis<span class="token operator">&gt;</span> PERSIST mykey
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
redis<span class="token operator">&gt;</span> TTL mykey
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token parameter variable">-1</span>
</code></pre></div><h4 id="tedis-7"><a href="#tedis-7" class="header-anchor">#</a> <em>Tedis</em></h4> <ul><li>interface:</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token function">persist</span><span class="token punctuation">(</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>example:</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">await</span> Key<span class="token punctuation">.</span><span class="token function">persist</span><span class="token punctuation">(</span><span class="token string">&quot;mykey&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 1</span>
</code></pre></div><h2 id="pexpire"><a href="#pexpire" class="header-anchor">#</a> pexpire</h2> <p>This command works exactly like EXPIRE but the time to live of the key is specified in milliseconds instead of seconds.</p> <h4 id="redis-8"><a href="#redis-8" class="header-anchor">#</a> <em>Redis</em> <a href="https://redis.io/commands/pexpire" target="_blank" rel="noopener noreferrer">+<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h4> <ul><li>available: <code>&gt;= 2.6.0</code></li> <li>complexity: <code>O(1)</code></li> <li>return:
<ul><li>1 if the timeout was set.</li> <li>0 if key does not exist.</li></ul></li> <li>examples:</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code>redis<span class="token operator">&gt;</span> SET mykey <span class="token string">&quot;Hello&quot;</span>
<span class="token string">&quot;OK&quot;</span>
redis<span class="token operator">&gt;</span> PEXPIRE mykey <span class="token number">1500</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
redis<span class="token operator">&gt;</span> TTL mykey
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
redis<span class="token operator">&gt;</span> PTTL mykey
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1499</span>
</code></pre></div><h4 id="tedis-8"><a href="#tedis-8" class="header-anchor">#</a> <em>Tedis</em></h4> <ul><li>interface:</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token function">pexpire</span><span class="token punctuation">(</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> milliseconds<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>example:</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">await</span> Key<span class="token punctuation">.</span><span class="token function">pexpire</span><span class="token punctuation">(</span><span class="token string">&quot;mykey&quot;</span><span class="token punctuation">,</span> <span class="token number">1500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 1</span>
</code></pre></div><h2 id="pexpireat"><a href="#pexpireat" class="header-anchor">#</a> pexpireat</h2> <p>PEXPIREAT has the same effect and semantic as EXPIREAT, but the Unix time at which the key will expire is specified in milliseconds instead of seconds.</p> <h4 id="redis-9"><a href="#redis-9" class="header-anchor">#</a> <em>Redis</em> <a href="https://redis.io/commands/pexpireat" target="_blank" rel="noopener noreferrer">+<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h4> <ul><li>available: <code>&gt;= 2.6.0</code></li> <li>complexity: <code>O(1)</code></li> <li>return:
<ul><li>1 if the timeout was set.</li> <li>0 if key does not exist.</li></ul></li> <li>examples:</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code>redis<span class="token operator">&gt;</span> SET mykey <span class="token string">&quot;Hello&quot;</span>
<span class="token string">&quot;OK&quot;</span>
redis<span class="token operator">&gt;</span> PEXPIREAT mykey <span class="token number">1555555555005</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
redis<span class="token operator">&gt;</span> TTL mykey
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">21889460</span>
redis<span class="token operator">&gt;</span> PTTL mykey
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">21889460097</span>
</code></pre></div><h4 id="tedis-9"><a href="#tedis-9" class="header-anchor">#</a> <em>Tedis</em></h4> <ul><li>interface:</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token function">pexpireat</span><span class="token punctuation">(</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> millisecondsTimestamp<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>example:</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">await</span> Key<span class="token punctuation">.</span><span class="token function">pexpireat</span><span class="token punctuation">(</span><span class="token string">&quot;mykey&quot;</span><span class="token punctuation">,</span> <span class="token number">1555555555005</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 1</span>
</code></pre></div><h2 id="pttl"><a href="#pttl" class="header-anchor">#</a> pttl</h2> <p>Like TTL this command returns the remaining time to live of a key that has an expire set, with the sole difference that TTL returns the amount of remaining time in seconds while PTTL returns it in milliseconds.</p> <p>In Redis 2.6 or older the command returns -1 if the key does not exist or if the key exist but has no associated expire.</p> <p>Starting with Redis 2.8 the return value in case of error changed:</p> <ul><li>The command returns -2 if the key does not exist.</li> <li>The command returns -1 if the key exists but has no associated expire.</li></ul> <h4 id="redis-10"><a href="#redis-10" class="header-anchor">#</a> <em>Redis</em> <a href="https://redis.io/commands/pttl" target="_blank" rel="noopener noreferrer">+<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h4> <ul><li>available: <code>&gt;= 2.6.0</code></li> <li>complexity: <code>O(1)</code></li> <li>return: TTL in milliseconds, or a negative value in order to signal an error (see the description above).</li> <li>examples:</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code>redis<span class="token operator">&gt;</span> SET mykey <span class="token string">&quot;Hello&quot;</span>
<span class="token string">&quot;OK&quot;</span>
redis<span class="token operator">&gt;</span> EXPIRE mykey <span class="token number">1</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
redis<span class="token operator">&gt;</span> PTTL mykey
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">999</span>
</code></pre></div><h4 id="tedis-10"><a href="#tedis-10" class="header-anchor">#</a> <em>Tedis</em></h4> <ul><li>interface:</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token function">pttl</span><span class="token punctuation">(</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>example:</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">await</span> Key<span class="token punctuation">.</span><span class="token function">pttl</span><span class="token punctuation">(</span><span class="token string">&quot;mykey&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 999</span>
</code></pre></div><h2 id="randomkey"><a href="#randomkey" class="header-anchor">#</a> randomkey</h2> <p>Return a random key from the currently selected database.</p> <h4 id="redis-11"><a href="#redis-11" class="header-anchor">#</a> <em>Redis</em> <a href="https://redis.io/commands/randomkey" target="_blank" rel="noopener noreferrer">+<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h4> <ul><li>available: <code>&gt;= 1.0.0</code></li> <li>complexity: <code>O(1)</code></li> <li>return: the random key, or nil when the database is empty.</li> <li>examples:</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code>redis<span class="token operator">&gt;</span> MSET fruit <span class="token string">&quot;apple&quot;</span> drink <span class="token string">&quot;beer&quot;</span> food <span class="token string">&quot;cookies&quot;</span>
<span class="token string">&quot;OK&quot;</span>
redis<span class="token operator">&gt;</span> RANDOMKEY
<span class="token string">&quot;fruit&quot;</span>
</code></pre></div><h4 id="tedis-11"><a href="#tedis-11" class="header-anchor">#</a> <em>Tedis</em></h4> <ul><li>interface:</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token function">randomkey</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token keyword">null</span> <span class="token operator">|</span> <span class="token builtin">string</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>example:</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">await</span> Key<span class="token punctuation">.</span><span class="token function">randomkey</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// fruit</span>
</code></pre></div><h2 id="rename"><a href="#rename" class="header-anchor">#</a> rename</h2> <p>Renames key to newkey. It returns an error when key does not exist. If newkey already exists it is overwritten, when this happens RENAME executes an implicit DEL operation, so if the deleted key contains a very big value it may cause high latency even if RENAME itself is usually a constant-time operation.</p> <p>Note: Before Redis 3.2.0, an error is returned if source and destination names are the same.</p> <h4 id="redis-12"><a href="#redis-12" class="header-anchor">#</a> <em>Redis</em> <a href="https://redis.io/commands/rename" target="_blank" rel="noopener noreferrer">+<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h4> <ul><li>available: <code>&gt;= 1.0.0</code></li> <li>complexity: <code>O(1)</code></li> <li>return: &quot;OK&quot;</li> <li>examples:</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code>redis<span class="token operator">&gt;</span> SET mykey <span class="token string">&quot;Hello&quot;</span>
<span class="token string">&quot;OK&quot;</span>
redis<span class="token operator">&gt;</span> RENAME mykey myotherkey
<span class="token string">&quot;OK&quot;</span>
redis<span class="token operator">&gt;</span> GET myotherkey
<span class="token string">&quot;Hello&quot;</span>
</code></pre></div><h4 id="tedis-12"><a href="#tedis-12" class="header-anchor">#</a> <em>Tedis</em></h4> <ul><li>interface:</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token function">rename</span><span class="token punctuation">(</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> newKey<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>example:</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">await</span> Key<span class="token punctuation">.</span><span class="token function">rename</span><span class="token punctuation">(</span><span class="token string">&quot;mykey&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;myotherkey&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &quot;OK&quot;</span>
</code></pre></div><h2 id="renamenx"><a href="#renamenx" class="header-anchor">#</a> renamenx</h2> <p>Renames key to newkey if newkey does not yet exist. It returns an error when key does not exist.</p> <p>Note: Before Redis 3.2.0, an error is returned if source and destination names are the same.</p> <h4 id="redis-13"><a href="#redis-13" class="header-anchor">#</a> <em>Redis</em> <a href="https://redis.io/commands/renamenx" target="_blank" rel="noopener noreferrer">+<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h4> <ul><li>available: <code>&gt;= 1.0.0</code></li> <li>complexity: <code>O(1)</code></li> <li>return:
<ul><li>1 if key was renamed to newkey.</li> <li>0 if newkey already exists.</li></ul></li> <li>examples:</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code>redis<span class="token operator">&gt;</span> SET mykey <span class="token string">&quot;Hello&quot;</span>
<span class="token string">&quot;OK&quot;</span>
redis<span class="token operator">&gt;</span> SET myotherkey <span class="token string">&quot;World&quot;</span>
<span class="token string">&quot;OK&quot;</span>
redis<span class="token operator">&gt;</span> RENAMENX mykey myotherkey
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">0</span>
redis<span class="token operator">&gt;</span> GET myotherkey
<span class="token string">&quot;World&quot;</span>
</code></pre></div><h4 id="tedis-13"><a href="#tedis-13" class="header-anchor">#</a> <em>Tedis</em></h4> <ul><li>interface:</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token function">renamenx</span><span class="token punctuation">(</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> newKey<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token number">0</span> <span class="token operator">|</span> <span class="token number">1</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>example:</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">await</span> Key<span class="token punctuation">.</span><span class="token function">renamenx</span><span class="token punctuation">(</span><span class="token string">&quot;mykey&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;myotherkey&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 0</span>
</code></pre></div><h2 id="ttl"><a href="#ttl" class="header-anchor">#</a> ttl</h2> <p>Returns the remaining time to live of a key that has a timeout. This introspection capability allows a Redis client to check how many seconds a given key will continue to be part of the dataset.</p> <p>In Redis 2.6 or older the command returns -1 if the key does not exist or if the key exist but has no associated expire.</p> <p>Starting with Redis 2.8 the return value in case of error changed:</p> <ul><li>The command returns -2 if the key does not exist.</li> <li>The command returns -1 if the key exists but has no associated expire.</li></ul> <p>See also the PTTL command that returns the same information with milliseconds resolution (Only available in Redis 2.6 or greater).</p> <h4 id="redis-14"><a href="#redis-14" class="header-anchor">#</a> <em>Redis</em> <a href="https://redis.io/commands/ttl" target="_blank" rel="noopener noreferrer">+<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h4> <ul><li>available: <code>&gt;= 1.0.0</code></li> <li>complexity: <code>O(1)</code></li> <li>return: TTL in seconds, or a negative value in order to signal an error (see the description above).</li> <li>examples:</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code>redis<span class="token operator">&gt;</span> SET mykey <span class="token string">&quot;Hello&quot;</span>
<span class="token string">&quot;OK&quot;</span>
redis<span class="token operator">&gt;</span> EXPIRE mykey <span class="token number">10</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
redis<span class="token operator">&gt;</span> TTL mykey
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">10</span>
</code></pre></div><h4 id="tedis-14"><a href="#tedis-14" class="header-anchor">#</a> <em>Tedis</em></h4> <ul><li>interface:</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token function">ttl</span><span class="token punctuation">(</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>example:</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">await</span> Key<span class="token punctuation">.</span><span class="token function">ttl</span><span class="token punctuation">(</span><span class="token string">&quot;mykey&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 10</span>
</code></pre></div><h2 id="type"><a href="#type" class="header-anchor">#</a> type</h2> <p>Returns the string representation of the type of the value stored at key. The different types that can be returned are: string, list, set, zset and hash.</p> <h4 id="redis-15"><a href="#redis-15" class="header-anchor">#</a> <em>Redis</em> <a href="https://redis.io/commands/type" target="_blank" rel="noopener noreferrer">+<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h4> <ul><li>available: <code>&gt;= 1.0.0</code></li> <li>complexity: <code>O(1)</code></li> <li>return: type of key, or none when key does not exist.</li> <li>examples:</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code>redis<span class="token operator">&gt;</span> SET key1 <span class="token string">&quot;value&quot;</span>
<span class="token string">&quot;OK&quot;</span>
redis<span class="token operator">&gt;</span> LPUSH key2 <span class="token string">&quot;value&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
redis<span class="token operator">&gt;</span> SADD key3 <span class="token string">&quot;value&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
redis<span class="token operator">&gt;</span> TYPE key1
<span class="token string">&quot;string&quot;</span>
redis<span class="token operator">&gt;</span> TYPE key2
<span class="token string">&quot;list&quot;</span>
redis<span class="token operator">&gt;</span> TYPE key3
<span class="token string">&quot;set&quot;</span>
</code></pre></div><h4 id="tedis-15"><a href="#tedis-15" class="header-anchor">#</a> <em>Tedis</em></h4> <ul><li>interface:</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token function">type</span><span class="token punctuation">(</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>example:</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">await</span> Key<span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span><span class="token string">&quot;key1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// string</span>
<span class="token keyword">await</span> Key<span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span><span class="token string">&quot;key2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// list</span>
<span class="token keyword">await</span> Key<span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span><span class="token string">&quot;key3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// set</span>
</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/silkjs/tedis/edit/master/doc/api/key.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">11/2/2019, 12:27:50 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/api/" class="prev router-link-active">
        Type interface
      </a></span> <span class="next"><a href="/api/base.html">
        base
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.16e1a090.js" defer></script><script src="/assets/js/2.c2a5290c.js" defer></script><script src="/assets/js/1.bcf7a7a0.js" defer></script><script src="/assets/js/28.d42813cd.js" defer></script>
  </body>
</html>
