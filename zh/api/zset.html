<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>zset | Tedis</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/images/favicon.png">
    <link rel="manifest" href="/manifest.json">
    <link rel="apple-touch-icon" href="/icons/apple-touch-icon-152x152.png">
    <meta name="description" content="">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/icons/msapplication-icon-144x144.png">
    <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/assets/css/0.styles.9c80de7b.css" as="style"><link rel="preload" href="/assets/js/app.16e1a090.js" as="script"><link rel="preload" href="/assets/js/2.c2a5290c.js" as="script"><link rel="preload" href="/assets/js/1.bcf7a7a0.js" as="script"><link rel="preload" href="/assets/js/45.d346ef8b.js" as="script"><link rel="prefetch" href="/assets/js/10.28bb3cec.js"><link rel="prefetch" href="/assets/js/11.1f244064.js"><link rel="prefetch" href="/assets/js/12.80ebd603.js"><link rel="prefetch" href="/assets/js/13.0b4fa241.js"><link rel="prefetch" href="/assets/js/14.4e248697.js"><link rel="prefetch" href="/assets/js/15.6c2990fe.js"><link rel="prefetch" href="/assets/js/16.09cf0dd7.js"><link rel="prefetch" href="/assets/js/17.4fc339fa.js"><link rel="prefetch" href="/assets/js/18.38200cd0.js"><link rel="prefetch" href="/assets/js/19.67f2a49a.js"><link rel="prefetch" href="/assets/js/20.d3f6c7fb.js"><link rel="prefetch" href="/assets/js/21.d64264ea.js"><link rel="prefetch" href="/assets/js/22.6877d8f0.js"><link rel="prefetch" href="/assets/js/23.27ffa9f4.js"><link rel="prefetch" href="/assets/js/24.292775b6.js"><link rel="prefetch" href="/assets/js/25.0a67d3da.js"><link rel="prefetch" href="/assets/js/26.0f0000f3.js"><link rel="prefetch" href="/assets/js/27.7fd81530.js"><link rel="prefetch" href="/assets/js/28.d42813cd.js"><link rel="prefetch" href="/assets/js/29.1d7a9b3c.js"><link rel="prefetch" href="/assets/js/3.c2fd3112.js"><link rel="prefetch" href="/assets/js/30.50955160.js"><link rel="prefetch" href="/assets/js/31.d28c53d2.js"><link rel="prefetch" href="/assets/js/32.cfa35c41.js"><link rel="prefetch" href="/assets/js/33.d42bf81f.js"><link rel="prefetch" href="/assets/js/34.07921881.js"><link rel="prefetch" href="/assets/js/35.062deb4e.js"><link rel="prefetch" href="/assets/js/36.fb5a67c6.js"><link rel="prefetch" href="/assets/js/37.f8e764f6.js"><link rel="prefetch" href="/assets/js/38.0014f88b.js"><link rel="prefetch" href="/assets/js/39.ba1c1f70.js"><link rel="prefetch" href="/assets/js/4.2dda509e.js"><link rel="prefetch" href="/assets/js/40.f8c940ea.js"><link rel="prefetch" href="/assets/js/41.6a80b03d.js"><link rel="prefetch" href="/assets/js/42.5bdc16c8.js"><link rel="prefetch" href="/assets/js/43.8b214183.js"><link rel="prefetch" href="/assets/js/44.92586fa0.js"><link rel="prefetch" href="/assets/js/46.cdd3e5c2.js"><link rel="prefetch" href="/assets/js/5.6c4c7788.js"><link rel="prefetch" href="/assets/js/6.8a89b7a1.js"><link rel="prefetch" href="/assets/js/7.20a2e975.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.0b5706cb.js">
    <link rel="stylesheet" href="/assets/css/0.styles.9c80de7b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/zh/" class="home-link router-link-active"><!----> <span class="site-name">Tedis</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/zh/guide/" class="nav-link">
  文档
</a></div><div class="nav-item"><a href="/zh/api/" class="nav-link router-link-active">
  API
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">多语言</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">多语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/api/zset.html" class="nav-link">
  English
</a></li><li class="dropdown-item"><!----> <a href="/zh/api/zset.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  简体中文
</a></li></ul></div></div> <a href="https://github.com/silkjs/tedis" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/zh/guide/" class="nav-link">
  文档
</a></div><div class="nav-item"><a href="/zh/api/" class="nav-link router-link-active">
  API
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">多语言</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">多语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/api/zset.html" class="nav-link">
  English
</a></li><li class="dropdown-item"><!----> <a href="/zh/api/zset.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  简体中文
</a></li></ul></div></div> <a href="https://github.com/silkjs/tedis" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/zh/api/" aria-current="page" class="sidebar-link">Type interface</a></li><li><a href="/zh/api/base.html" class="sidebar-link">base</a></li><li><a href="/zh/api/pool.html" class="sidebar-link">pool</a></li><li><a href="/zh/api/key.html" class="sidebar-link">key</a></li><li><a href="/zh/api/string.html" class="sidebar-link">string</a></li><li><a href="/zh/api/hash.html" class="sidebar-link">hash</a></li><li><a href="/zh/api/list.html" class="sidebar-link">list</a></li><li><a href="/zh/api/set.html" class="sidebar-link">set</a></li><li><a href="/zh/api/zset.html" aria-current="page" class="active sidebar-link">zset</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh/api/zset.html#zadd" class="sidebar-link">zadd</a></li><li class="sidebar-sub-header"><a href="/zh/api/zset.html#zcard" class="sidebar-link">zcard</a></li><li class="sidebar-sub-header"><a href="/zh/api/zset.html#zcount" class="sidebar-link">zcount</a></li><li class="sidebar-sub-header"><a href="/zh/api/zset.html#zincrby" class="sidebar-link">zincrby</a></li><li class="sidebar-sub-header"><a href="/zh/api/zset.html#zinterstore" class="sidebar-link">zinterstore</a></li><li class="sidebar-sub-header"><a href="/zh/api/zset.html#zlexcount" class="sidebar-link">zlexcount</a></li><li class="sidebar-sub-header"><a href="/zh/api/zset.html#zrange" class="sidebar-link">zrange</a></li><li class="sidebar-sub-header"><a href="/zh/api/zset.html#zrangebylex" class="sidebar-link">zrangebylex</a></li><li class="sidebar-sub-header"><a href="/zh/api/zset.html#zrangebyscore" class="sidebar-link">zrangebyscore</a></li><li class="sidebar-sub-header"><a href="/zh/api/zset.html#zrank" class="sidebar-link">zrank</a></li><li class="sidebar-sub-header"><a href="/zh/api/zset.html#zrem" class="sidebar-link">zrem</a></li><li class="sidebar-sub-header"><a href="/zh/api/zset.html#zremrangebylex" class="sidebar-link">zremrangebylex</a></li><li class="sidebar-sub-header"><a href="/zh/api/zset.html#zremrangebyrank" class="sidebar-link">zremrangebyrank</a></li><li class="sidebar-sub-header"><a href="/zh/api/zset.html#zremrangebyscore" class="sidebar-link">zremrangebyscore</a></li><li class="sidebar-sub-header"><a href="/zh/api/zset.html#zrevrange" class="sidebar-link">zrevrange</a></li><li class="sidebar-sub-header"><a href="/zh/api/zset.html#zrevrangebyscore" class="sidebar-link">zrevrangebyscore</a></li><li class="sidebar-sub-header"><a href="/zh/api/zset.html#zrevrank" class="sidebar-link">zrevrank</a></li><li class="sidebar-sub-header"><a href="/zh/api/zset.html#zscore" class="sidebar-link">zscore</a></li><li class="sidebar-sub-header"><a href="/zh/api/zset.html#zunionstore" class="sidebar-link">zunionstore</a></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="zset"><a href="#zset" class="header-anchor">#</a> zset</h1> <div class="custom-block tip"><p class="custom-block-title">说明</p> <p>本节示例中的 <code>Zset</code> 为 Tedis 实例对象，演示部分省略了外部的 async 函数层</p></div> <h2 id="zadd"><a href="#zadd" class="header-anchor">#</a> zadd</h2> <p>将所有指定成员添加到键为 key 有序集合（sorted set）里面。 添加时可以指定多个分数/成员（score/member）对。 如果指定添加的成员已经是有序集合里面的成员，则会更新改成员的分数（scrore）并更新到正确的排序位置。</p> <p>如果 key 不存在，将会创建一个新的有序集合（sorted set）并将分数/成员（score/member）对添加到有序集合，就像原来存在一个空的有序集合一样。如果 key 存在，但是类型不是有序集合，将会返回一个错误应答。</p> <p>分数值是一个双精度的浮点型数字字符串。+inf 和-inf 都是有效值。</p> <p><strong>ZADD 参数（options） <code>&gt;= 3.0.2</code></strong></p> <p>ZADD 命令在 key 后面分数/成员（score/member）对前面支持一些参数，他们是：</p> <ul><li>XX: 仅仅更新存在的成员，不添加新成员。</li> <li>NX: 不更新存在的成员。只添加新成员。</li> <li>CH: 修改返回值为发生变化的成员总数，原始是返回新添加成员的总数 (CH 是 changed 的意思)。更改的元素是新添加的成员，已经存在的成员更新分数。 所以在命令中指定的成员有相同的分数将不被计算在内。注：在通常情况下，ZADD 返回值只计算新添加成员的数量。</li> <li>INCR: 当 ZADD 指定这个选项时，成员的操作就等同 ZINCRBY 命令，对成员的分数进行递增操作。</li></ul> <p><strong>分数可以精确的表示的整数的范围</strong></p> <p>Redis 有序集合的分数使用双精度 64 位浮点数。我们支持所有的架构，这表示为一个 IEEE 754 floating point number，它能包括的整数范围是-(2^53) 到 +(2^53)。或者说是-9007199254740992 到 9007199254740992。更大的整数在内部用指数形式表示，所以，如果为分数设置一个非常大的整数，你得到的是一个近似的十进制数。</p> <p><strong>Sorted sets 101</strong></p> <p>有序集合按照分数以递增的方式进行排序。相同的成员（member）只存在一次，有序集合不允许存在重复的成员。 分数可以通过 ZADD 命令进行更新或者也可以通过 ZINCRBY 命令递增来修改之前的值，相应的他们的排序位置也会随着分数变化而改变。</p> <p>获取一个成员当前的分数可以使用 ZSCORE 命令，也可以用它来验证成员是否存在。</p> <p><strong>相同分数的成员</strong></p> <p>有序集合里面的成员是不能重复的都是唯一的，但是，不同成员间有可能有相同的分数。当多个成员有相同的分数时，他们将是有序的字典（ordered lexicographically）（仍由分数作为第一排序条件，然后，相同分数的成员按照字典规则相对排序）。</p> <p>字典顺序排序用的是二进制，它比较的是字符串的字节数组。
如果用户将所有元素设置相同分数（例如 0），有序集合里面的所有元素将按照字典顺序进行排序，范围查询元素可以使用 ZRANGEBYLEX 命令（注：范围查询分数可以使用 ZRANGEBYSCORE 命令）。</p> <p><strong>历史</strong></p> <p><code>&gt;= 2.4</code>: 接受多个成员。 在 Redis 2.4 以前，命令只能添加或者更新一个成员。</p> <h4 id="redis"><a href="#redis" class="header-anchor">#</a> <em>Redis</em> <a href="http://www.redis.cn/commands/zadd.html" target="_blank" rel="noopener noreferrer">+<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h4> <ul><li>可用版本：<code>&gt;= 1.2.0</code></li> <li>算法复杂度：<code>O(log(N))</code></li> <li>返回值：
<ul><li>添加到有序集合的成员数量，不包括已经存在更新分数的成员。如果指定 INCR 参数, 返回将会变成一个字符串参数</li> <li>成员的新分数（双精度的浮点型数字）字符串。</li></ul></li> <li>指令案例：</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code>redis<span class="token operator">&gt;</span> ZADD myzset <span class="token number">1</span> <span class="token string">&quot;one&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
redis<span class="token operator">&gt;</span> ZADD myzset <span class="token number">1</span> <span class="token string">&quot;uno&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
redis<span class="token operator">&gt;</span> ZADD myzset <span class="token number">2</span> <span class="token string">&quot;two&quot;</span> <span class="token number">3</span> <span class="token string">&quot;three&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span>
redis<span class="token operator">&gt;</span> ZRANGE myzset <span class="token number">0</span> <span class="token parameter variable">-1</span> WITHSCORES
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;one&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;1&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;uno&quot;</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;1&quot;</span>
<span class="token number">5</span><span class="token punctuation">)</span> <span class="token string">&quot;two&quot;</span>
<span class="token number">6</span><span class="token punctuation">)</span> <span class="token string">&quot;2&quot;</span>
<span class="token number">7</span><span class="token punctuation">)</span> <span class="token string">&quot;three&quot;</span>
<span class="token number">8</span><span class="token punctuation">)</span> <span class="token string">&quot;3&quot;</span>
</code></pre></div><h4 id="tedis"><a href="#tedis" class="header-anchor">#</a> <em>Tedis</em></h4> <ul><li>接口：</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token function">zadd</span><span class="token punctuation">(</span>
  key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  objMS<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token punctuation">[</span>propName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  options<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    nxxx<span class="token operator">?</span><span class="token operator">:</span> <span class="token string">&quot;NX&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;XX&quot;</span><span class="token punctuation">;</span>
    ch<span class="token operator">?</span><span class="token operator">:</span> <span class="token string">&quot;CH&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token function">zadd</span><span class="token punctuation">(</span>
  key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  objMS<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token punctuation">[</span>propName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  options<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    nxxx<span class="token operator">?</span><span class="token operator">:</span> <span class="token string">&quot;NX&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;XX&quot;</span><span class="token punctuation">;</span>
    ch<span class="token operator">?</span><span class="token operator">:</span> <span class="token string">&quot;CH&quot;</span><span class="token punctuation">;</span>
    incr<span class="token operator">?</span><span class="token operator">:</span> <span class="token string">&quot;INCR&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token builtin">string</span> <span class="token operator">|</span> <span class="token keyword">null</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token function">zadd</span><span class="token punctuation">(</span>
  key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  objMS<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token punctuation">[</span>propName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  options<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    nxxx<span class="token operator">?</span><span class="token operator">:</span> <span class="token string">&quot;NX&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;XX&quot;</span><span class="token punctuation">;</span>
    ch<span class="token operator">?</span><span class="token operator">:</span> <span class="token string">&quot;CH&quot;</span><span class="token punctuation">;</span>
    incr<span class="token operator">?</span><span class="token operator">:</span> <span class="token string">&quot;INCR&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>示例：</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">await</span> Zset<span class="token punctuation">.</span><span class="token function">zadd</span><span class="token punctuation">(</span><span class="token string">&quot;myzset&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  one<span class="token operator">:</span> <span class="token number">1</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 1</span>
<span class="token keyword">await</span> Zset<span class="token punctuation">.</span><span class="token function">zadd</span><span class="token punctuation">(</span><span class="token string">&quot;myzset&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  uno<span class="token operator">:</span> <span class="token number">1</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 1</span>
<span class="token keyword">await</span> Zset<span class="token punctuation">.</span><span class="token function">zadd</span><span class="token punctuation">(</span><span class="token string">&quot;myzset&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  two<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  three<span class="token operator">:</span> <span class="token number">3</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 2</span>
</code></pre></div><h2 id="zcard"><a href="#zcard" class="header-anchor">#</a> zcard</h2> <p>返回 key 的有序集元素个数。</p> <h4 id="redis-2"><a href="#redis-2" class="header-anchor">#</a> <em>Redis</em> <a href="http://www.redis.cn/commands/zcard.html" target="_blank" rel="noopener noreferrer">+<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h4> <ul><li>可用版本：<code>&gt;= 1.2.0</code></li> <li>算法复杂度：<code>O(1)</code></li> <li>返回值：key 存在的时候，返回有序集的元素个数，否则返回 0。</li> <li>指令案例：</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code>redis<span class="token operator">&gt;</span> ZADD myzset <span class="token number">1</span> <span class="token string">&quot;one&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
redis<span class="token operator">&gt;</span> ZADD myzset <span class="token number">2</span> <span class="token string">&quot;two&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
redis<span class="token operator">&gt;</span> ZCARD myzset
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span>
</code></pre></div><h4 id="tedis-2"><a href="#tedis-2" class="header-anchor">#</a> <em>Tedis</em></h4> <ul><li>接口：</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token function">zcard</span><span class="token punctuation">(</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>示例：</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">await</span> Zset<span class="token punctuation">.</span><span class="token function">zcard</span><span class="token punctuation">(</span><span class="token string">&quot;myzset&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 2</span>
</code></pre></div><h2 id="zcount"><a href="#zcount" class="header-anchor">#</a> zcount</h2> <p>返回有序集 key 中，score 值在 min 和 max 之间(默认包括 score 值等于 min 或 max)的成员个数。</p> <h4 id="redis-3"><a href="#redis-3" class="header-anchor">#</a> <em>Redis</em> <a href="http://www.redis.cn/commands/zcount.html" target="_blank" rel="noopener noreferrer">+<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h4> <ul><li>可用版本：<code>&gt;= 2.0.0</code></li> <li>算法复杂度：<code>O(log(N))</code></li> <li>返回值：指定分数范围的元素个数。</li> <li>指令案例：</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code>redis<span class="token operator">&gt;</span> ZADD myzset <span class="token number">1</span> <span class="token string">&quot;one&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
redis<span class="token operator">&gt;</span> ZADD myzset <span class="token number">2</span> <span class="token string">&quot;two&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
redis<span class="token operator">&gt;</span> ZADD myzset <span class="token number">3</span> <span class="token string">&quot;three&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
redis<span class="token operator">&gt;</span> ZCOUNT myzset <span class="token parameter variable">-inf</span> +inf
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">3</span>
redis<span class="token operator">&gt;</span> ZCOUNT myzset <span class="token punctuation">(</span><span class="token number">1</span> <span class="token number">3</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span>
</code></pre></div><h4 id="tedis-3"><a href="#tedis-3" class="header-anchor">#</a> <em>Tedis</em></h4> <ul><li>接口：</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token function">zcount</span><span class="token punctuation">(</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> min<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> max<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>示例：</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">await</span> Zset<span class="token punctuation">.</span><span class="token function">zcount</span><span class="token punctuation">(</span><span class="token string">&quot;myzset&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;-inf&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;+inf&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 3</span>
<span class="token keyword">await</span> Zset<span class="token punctuation">.</span><span class="token function">zcount</span><span class="token punctuation">(</span><span class="token string">&quot;myzset&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;(1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 2</span>
</code></pre></div><h2 id="zincrby"><a href="#zincrby" class="header-anchor">#</a> zincrby</h2> <p>为有序集 key 的成员 member 的 score 值加上增量 increment。如果 key 中不存在 member，就在 key 中添加一个 member，score 是 increment（就好像它之前的 score 是 0.0）。如果 key 不存在，就创建一个只含有指定 member 成员的有序集合。</p> <p>当 key 不是有序集类型时，返回一个错误。</p> <p>score 值必须是字符串表示的整数值或双精度浮点数，并且能接受 double 精度的浮点数。也有可能给一个负数来减少 score 的值。</p> <h4 id="redis-4"><a href="#redis-4" class="header-anchor">#</a> <em>Redis</em> <a href="http://www.redis.cn/commands/zincrby.html" target="_blank" rel="noopener noreferrer">+<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h4> <ul><li>可用版本：<code>&gt;= 1.2.0</code></li> <li>算法复杂度：<code>O(log(N))</code></li> <li>返回值：member 成员的新 score 值，以字符串形式表示。</li> <li>指令案例：</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code>redis<span class="token operator">&gt;</span> ZADD myzset <span class="token number">1</span> <span class="token string">&quot;one&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
redis<span class="token operator">&gt;</span> ZADD myzset <span class="token number">2</span> <span class="token string">&quot;two&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
redis<span class="token operator">&gt;</span> ZINCRBY myzset <span class="token number">2</span> <span class="token string">&quot;one&quot;</span>
<span class="token string">&quot;3&quot;</span>
redis<span class="token operator">&gt;</span> ZRANGE myzset <span class="token number">0</span> <span class="token parameter variable">-1</span> WITHSCORES
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;two&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;2&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;one&quot;</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;3&quot;</span>
</code></pre></div><h4 id="tedis-4"><a href="#tedis-4" class="header-anchor">#</a> <em>Tedis</em></h4> <ul><li>接口：</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token function">zincrby</span><span class="token punctuation">(</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> increment<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> member<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>示例：</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">await</span> Zset<span class="token punctuation">.</span><span class="token function">zincrby</span><span class="token punctuation">(</span><span class="token string">&quot;myzset&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&quot;one&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 3</span>
</code></pre></div><h2 id="zinterstore"><a href="#zinterstore" class="header-anchor">#</a> zinterstore</h2> <p>计算给定的 numkeys 个有序集合的交集，并且把结果放到 destination 中。 在给定要计算的 key 和其它参数之前，必须先给定 key 个数(numberkeys)。</p> <p>默认情况下，结果中一个元素的分数是有序集合中该元素分数之和，前提是该元素在这些有序集合中都存在。因为交集要求其成员必须是给定的每个有序集合中的成员，结果集中的每个元素的分数和输入的有序集合个数相等。</p> <p>如果 destination 存在，就把它覆盖。</p> <h4 id="redis-5"><a href="#redis-5" class="header-anchor">#</a> <em>Redis</em> <a href="http://www.redis.cn/commands/zinterstore.html" target="_blank" rel="noopener noreferrer">+<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h4> <ul><li>可用版本：<code>&gt;= 2.0.0</code></li> <li>算法复杂度：<code>O(N*K)+O(M*log(M))</code></li> <li>返回值：结果有序集合 destination 中元素个数。</li> <li>指令案例：</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code>redis<span class="token operator">&gt;</span> ZADD zset1 <span class="token number">1</span> <span class="token string">&quot;one&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
redis<span class="token operator">&gt;</span> ZADD zset1 <span class="token number">2</span> <span class="token string">&quot;two&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
redis<span class="token operator">&gt;</span> ZADD zset2 <span class="token number">1</span> <span class="token string">&quot;one&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
redis<span class="token operator">&gt;</span> ZADD zset2 <span class="token number">2</span> <span class="token string">&quot;two&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
redis<span class="token operator">&gt;</span> ZADD zset2 <span class="token number">3</span> <span class="token string">&quot;three&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
redis<span class="token operator">&gt;</span> ZINTERSTORE out <span class="token number">2</span> zset1 zset2 WEIGHTS <span class="token number">2</span> <span class="token number">3</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span>
redis<span class="token operator">&gt;</span> ZRANGE out <span class="token number">0</span> <span class="token parameter variable">-1</span> WITHSCORES
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;one&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;5&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;two&quot;</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;10&quot;</span>
</code></pre></div><h4 id="tedis-5"><a href="#tedis-5" class="header-anchor">#</a> <em>Tedis</em></h4> <ul><li>接口：</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token function">zinterstore</span><span class="token punctuation">(</span>destination<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> objectKW<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token punctuation">[</span>PropName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> aggregate<span class="token operator">?</span><span class="token operator">:</span> <span class="token string">&quot;SUM&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;MIN&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;MAX&quot;</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>示例：</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">await</span> Zset<span class="token punctuation">.</span><span class="token function">zinterstore</span><span class="token punctuation">(</span><span class="token string">&quot;out&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  zset1<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  zset3<span class="token operator">:</span> <span class="token number">3</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 2</span>
</code></pre></div><h2 id="zlexcount"><a href="#zlexcount" class="header-anchor">#</a> zlexcount</h2> <p>此命令用于计算有序集合中指定成员之间的成员数量。</p> <h4 id="redis-6"><a href="#redis-6" class="header-anchor">#</a> <em>Redis</em> <a href="http://www.redis.cn/commands/zlexcount.html" target="_blank" rel="noopener noreferrer">+<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h4> <ul><li>可用版本：<code>&gt;= 2.8.9</code></li> <li>算法复杂度：<code>O(log(N))</code></li> <li>返回值：有序集合中成员名称 min 和 max 之间的成员数量</li> <li>指令案例：</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code>redis<span class="token operator">&gt;</span> ZADD myzset <span class="token number">0</span> a <span class="token number">0</span> b <span class="token number">0</span> c <span class="token number">0</span> d <span class="token number">0</span> e
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">5</span>
redis<span class="token operator">&gt;</span> ZADD myzset <span class="token number">0</span> f <span class="token number">0</span> g
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span>
redis<span class="token operator">&gt;</span> ZLEXCOUNT myzset - +
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">7</span>
redis<span class="token operator">&gt;</span> ZLEXCOUNT myzset <span class="token punctuation">[</span>b <span class="token punctuation">[</span>f
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">5</span>
</code></pre></div><h4 id="tedis-6"><a href="#tedis-6" class="header-anchor">#</a> <em>Tedis</em></h4> <ul><li>接口：</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token function">zlexcount</span><span class="token punctuation">(</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> min<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> max<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>示例：</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">await</span> Zset<span class="token punctuation">.</span><span class="token function">zlexcount</span><span class="token punctuation">(</span><span class="token string">&quot;myzset&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;-&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;+&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 7</span>
<span class="token keyword">await</span> Zset<span class="token punctuation">.</span><span class="token function">zlexcount</span><span class="token punctuation">(</span><span class="token string">&quot;myzset&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;[b&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;[f&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 5</span>
</code></pre></div><h2 id="zrange"><a href="#zrange" class="header-anchor">#</a> zrange</h2> <p>返回有序集中，指定区间内的成员。其中成员的位置按分数值递增(从小到大)来排序。具有相同分数值的成员按字典序(lexicographical order )来排列。</p> <h4 id="redis-7"><a href="#redis-7" class="header-anchor">#</a> <em>Redis</em> <a href="http://www.redis.cn/commands/zrange.html" target="_blank" rel="noopener noreferrer">+<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h4> <ul><li>可用版本：<code>&gt;= 1.2.0</code></li> <li>算法复杂度：<code>O(log(N)+M)</code></li> <li>返回值：指定区间内，带有分数值(可选)的有序集成员的列表。</li> <li>指令案例：</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code>redis<span class="token operator">&gt;</span> ZADD myzset <span class="token number">1</span> <span class="token string">&quot;one&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
redis<span class="token operator">&gt;</span> ZADD myzset <span class="token number">2</span> <span class="token string">&quot;two&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
redis<span class="token operator">&gt;</span> ZADD myzset <span class="token number">3</span> <span class="token string">&quot;three&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
redis<span class="token operator">&gt;</span> ZRANGE myzset <span class="token number">0</span> <span class="token parameter variable">-1</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;one&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;two&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;three&quot;</span>
redis<span class="token operator">&gt;</span> ZRANGE myzset <span class="token number">2</span> <span class="token number">3</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;three&quot;</span>
redis<span class="token operator">&gt;</span> ZRANGE myzset <span class="token parameter variable">-2</span> <span class="token parameter variable">-1</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;two&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;three&quot;</span>
</code></pre></div><h4 id="tedis-7"><a href="#tedis-7" class="header-anchor">#</a> <em>Tedis</em></h4> <ul><li>接口：</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token function">zrange</span><span class="token punctuation">(</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> start<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> stop<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token function">zrange</span><span class="token punctuation">(</span>
  key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  start<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
  stop<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
  withscores<span class="token operator">:</span> <span class="token string">&quot;WITHSCORES&quot;</span>
<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token punctuation">{</span> <span class="token punctuation">[</span>propName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token function">zrange</span><span class="token punctuation">(</span>
  key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  start<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
  stop<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
  withscores<span class="token operator">?</span><span class="token operator">:</span> <span class="token string">&quot;WITHSCORES&quot;</span>
<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>示例：</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">await</span> Zset<span class="token punctuation">.</span><span class="token function">zrange</span><span class="token punctuation">(</span><span class="token string">&quot;myzset&quot;</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// [&quot;one&quot;, &quot;two&quot;, &quot;three&quot;];</span>
<span class="token keyword">await</span> Zset<span class="token punctuation">.</span><span class="token function">zrange</span><span class="token punctuation">(</span><span class="token string">&quot;myzset&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// [&quot;three&quot;];</span>
<span class="token keyword">await</span> Zset<span class="token punctuation">.</span><span class="token function">zrange</span><span class="token punctuation">(</span><span class="token string">&quot;myzset&quot;</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// [&quot;two&quot;, &quot;three&quot;];</span>
</code></pre></div><h2 id="zrangebylex"><a href="#zrangebylex" class="header-anchor">#</a> zrangebylex</h2> <p>ZRANGEBYLEX 返回指定成员区间内的成员，按成员字典正序排序, 分数必须相同。 在某些业务场景中,需要对一个字符串数组按名称的字典顺序进行排序时,可以使用 Redis 中 SortSet 这种数据结构来处理。</p> <h4 id="redis-8"><a href="#redis-8" class="header-anchor">#</a> <em>Redis</em> <a href="http://www.redis.cn/commands/zrangebylex.html" target="_blank" rel="noopener noreferrer">+<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h4> <ul><li>可用版本：<code>&gt;= 2.8.9</code></li> <li>算法复杂度：<code>O(log(N)+M)</code></li> <li>返回值：指定区间内的元素列表。</li> <li>指令案例：</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code>redis<span class="token operator">&gt;</span> ZADD myzset <span class="token number">0</span> a <span class="token number">0</span> b <span class="token number">0</span> c <span class="token number">0</span> d <span class="token number">0</span> e <span class="token number">0</span> f <span class="token number">0</span> g
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">7</span>
redis<span class="token operator">&gt;</span> ZRANGEBYLEX myzset - <span class="token punctuation">[</span>c
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;a&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;b&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;c&quot;</span>
redis<span class="token operator">&gt;</span> ZRANGEBYLEX myzset - <span class="token punctuation">(</span>c
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;a&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;b&quot;</span>
redis<span class="token operator">&gt;</span> ZRANGEBYLEX myzset <span class="token punctuation">[</span>aaa <span class="token punctuation">(</span>g
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;b&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;c&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;d&quot;</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;e&quot;</span>
<span class="token number">5</span><span class="token punctuation">)</span> <span class="token string">&quot;f&quot;</span>
</code></pre></div><h4 id="tedis-8"><a href="#tedis-8" class="header-anchor">#</a> <em>Tedis</em></h4> <ul><li>接口：</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token function">zrangebylex</span><span class="token punctuation">(</span>
  key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  min<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  max<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  options<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    offset<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    count<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>示例：</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">await</span> Zset<span class="token punctuation">.</span><span class="token function">zrangebylex</span><span class="token punctuation">(</span><span class="token string">&quot;myzset&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;-&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;[c&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;];</span>
<span class="token keyword">await</span> Zset<span class="token punctuation">.</span><span class="token function">zrangebylex</span><span class="token punctuation">(</span><span class="token string">&quot;myzset&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;-&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;(c&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;];</span>
<span class="token keyword">await</span> Zset<span class="token punctuation">.</span><span class="token function">zrangebylex</span><span class="token punctuation">(</span><span class="token string">&quot;myzset&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;[aaa&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;(g)&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// [&quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;];</span>
</code></pre></div><h2 id="zrangebyscore"><a href="#zrangebyscore" class="header-anchor">#</a> zrangebyscore</h2> <p>返回有序集合中指定分数区间的成员列表。有序集成员按分数值递增(从小到大)次序排列。具有相同分数值的成员按字典序来排列(该属性是有序集提供的，不需要额外的计算)。默认情况下，区间的取值使用闭区间 (小于等于或大于等于)，你也可以通过给参数前增加 ( 符号来使用可选的开区间 (小于或大于)。</p> <h4 id="redis-9"><a href="#redis-9" class="header-anchor">#</a> <em>Redis</em> <a href="http://www.redis.cn/commands/zrangebyscore.html" target="_blank" rel="noopener noreferrer">+<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h4> <ul><li>可用版本：<code>&gt;= 1.0.5</code></li> <li>算法复杂度：<code>O(log(N)+M)</code></li> <li>返回值：指定区间内，带有分数值(可选)的有序集成员的列表。</li> <li>指令案例：</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code>redis<span class="token operator">&gt;</span> ZADD myzset <span class="token number">1</span> <span class="token string">&quot;one&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
redis<span class="token operator">&gt;</span> ZADD myzset <span class="token number">2</span> <span class="token string">&quot;two&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
redis<span class="token operator">&gt;</span> ZADD myzset <span class="token number">3</span> <span class="token string">&quot;three&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
redis<span class="token operator">&gt;</span> ZRANGEBYSCORE myzset <span class="token parameter variable">-inf</span> +inf
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;one&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;two&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;three&quot;</span>
redis<span class="token operator">&gt;</span> ZRANGEBYSCORE myzset <span class="token number">1</span> <span class="token number">2</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;one&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;two&quot;</span>
redis<span class="token operator">&gt;</span> ZRANGEBYSCORE myzset <span class="token punctuation">(</span><span class="token number">1</span> <span class="token number">2</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;two&quot;</span>
redis<span class="token operator">&gt;</span> ZRANGEBYSCORE myzset <span class="token punctuation">(</span><span class="token number">1</span> <span class="token punctuation">(</span><span class="token number">2</span>
<span class="token punctuation">(</span>empty list or <span class="token builtin class-name">set</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="tedis-9"><a href="#tedis-9" class="header-anchor">#</a> <em>Tedis</em></h4> <ul><li>接口：</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token function">zrangebyscore</span><span class="token punctuation">(</span>
  key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  min<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  max<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  withscores<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  options<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    offset<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    count<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token function">zrangebyscore</span><span class="token punctuation">(</span>
  key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  min<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  max<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  withscores<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  options<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    offset<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    count<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token punctuation">{</span> <span class="token punctuation">[</span>propName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token function">zrangebyscore</span><span class="token punctuation">(</span>
  key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  min<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  max<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  withscores<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">,</span>
  options<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    offset<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    count<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>示例：</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">await</span> Zset<span class="token punctuation">.</span><span class="token function">zrangebyscore</span><span class="token punctuation">(</span><span class="token string">&quot;myzset&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;-inf&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;+inf&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// [&quot;one&quot;, &quot;two&quot;, &quot;three&quot;];</span>
<span class="token keyword">await</span> Zset<span class="token punctuation">.</span><span class="token function">zrangebyscore</span><span class="token punctuation">(</span><span class="token string">&quot;myzset&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// [&quot;one&quot;, &quot;two&quot;];</span>
<span class="token keyword">await</span> Zset<span class="token punctuation">.</span><span class="token function">zrangebyscore</span><span class="token punctuation">(</span><span class="token string">&quot;myzset&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;(1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// [&quot;two&quot;];</span>
<span class="token keyword">await</span> Zset<span class="token punctuation">.</span><span class="token function">zrangebyscore</span><span class="token punctuation">(</span><span class="token string">&quot;myzset&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;(1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;(2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// [];</span>
</code></pre></div><h2 id="zrank"><a href="#zrank" class="header-anchor">#</a> zrank</h2> <p>返回有序集 key 中成员 member 的排名。其中有序集成员按 score 值递增(从小到大)顺序排列。排名以 0 为底，也就是说，score 值最小的成员排名为 0。</p> <h4 id="redis-10"><a href="#redis-10" class="header-anchor">#</a> <em>Redis</em> <a href="http://www.redis.cn/commands/zrank.html" target="_blank" rel="noopener noreferrer">+<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h4> <ul><li>可用版本：<code>&gt;= 2.0.0</code></li> <li>算法复杂度：<code>O(log(N)</code></li> <li>返回值：
<ul><li>如果 member 是有序集 key 的成员，返回 member 的排名。</li> <li>如果 member 不是有序集 key 的成员，返回 nil。</li></ul></li> <li>指令案例：</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code>redis<span class="token operator">&gt;</span> ZADD myzset <span class="token number">1</span> <span class="token string">&quot;one&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
redis<span class="token operator">&gt;</span> ZADD myzset <span class="token number">2</span> <span class="token string">&quot;two&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
redis<span class="token operator">&gt;</span> ZADD myzset <span class="token number">3</span> <span class="token string">&quot;three&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
redis<span class="token operator">&gt;</span> ZRANK myzset <span class="token string">&quot;three&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span>
redis<span class="token operator">&gt;</span> ZRANK myzset <span class="token string">&quot;four&quot;</span>
<span class="token punctuation">(</span>nil<span class="token punctuation">)</span>
</code></pre></div><h4 id="tedis-10"><a href="#tedis-10" class="header-anchor">#</a> <em>Tedis</em></h4> <ul><li>接口：</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token function">zrank</span><span class="token punctuation">(</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> member<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token builtin">number</span> <span class="token operator">|</span> <span class="token keyword">null</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>示例：</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">await</span> Zset<span class="token punctuation">.</span><span class="token function">zrank</span><span class="token punctuation">(</span><span class="token string">&quot;myzset&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;three&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 2</span>
<span class="token keyword">await</span> Zset<span class="token punctuation">.</span><span class="token function">zrank</span><span class="token punctuation">(</span><span class="token string">&quot;myzset&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;four&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// null</span>
</code></pre></div><h2 id="zrem"><a href="#zrem" class="header-anchor">#</a> zrem</h2> <p>用于移除有序集中的一个或多个成员，不存在的成员将被忽略。当 key 存在但不是有序集类型时，返回一个错误。</p> <p><strong>历史</strong></p> <p><code>&gt;= 2.4</code>: 接受多个元素。在 2.4 之前的版本中，每次只能删除一个成员。</p> <h4 id="redis-11"><a href="#redis-11" class="header-anchor">#</a> <em>Redis</em> <a href="http://www.redis.cn/commands/zrem.html" target="_blank" rel="noopener noreferrer">+<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h4> <ul><li>可用版本：<code>&gt;= 1.2.0</code></li> <li>算法复杂度：<code>O(M*log(N))</code></li> <li>返回值：返回的是从有序集合中删除的成员个数，不包括不存在的成员。</li> <li>指令案例：</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code>redis<span class="token operator">&gt;</span> ZADD myzset <span class="token number">1</span> <span class="token string">&quot;one&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
redis<span class="token operator">&gt;</span> ZADD myzset <span class="token number">2</span> <span class="token string">&quot;two&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
redis<span class="token operator">&gt;</span> ZADD myzset <span class="token number">3</span> <span class="token string">&quot;three&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
redis<span class="token operator">&gt;</span> ZREM myzset <span class="token string">&quot;two&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
redis<span class="token operator">&gt;</span> ZRANGE myzset <span class="token number">0</span> <span class="token parameter variable">-1</span> WITHSCORES
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;one&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;1&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;three&quot;</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;3&quot;</span>
</code></pre></div><h4 id="tedis-11"><a href="#tedis-11" class="header-anchor">#</a> <em>Tedis</em></h4> <ul><li>接口：</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token function">zrem</span><span class="token punctuation">(</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> member<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token operator">...</span>members<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>示例：</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">await</span> Zset<span class="token punctuation">.</span><span class="token function">zrem</span><span class="token punctuation">(</span><span class="token string">&quot;myzset&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;two&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 1</span>
</code></pre></div><h2 id="zremrangebylex"><a href="#zremrangebylex" class="header-anchor">#</a> zremrangebylex</h2> <p>移除有序集合中给定的字典区间的所有成员。</p> <h4 id="redis-12"><a href="#redis-12" class="header-anchor">#</a> <em>Redis</em> <a href="http://www.redis.cn/commands/zremrangebylex.html" target="_blank" rel="noopener noreferrer">+<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h4> <ul><li>可用版本：<code>&gt;= 2.8.9</code></li> <li>算法复杂度：<code>O(log(N)+M)</code></li> <li>返回值：被成功移除的成员的数量，不包括被忽略的成员。</li> <li>指令案例：</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code>redis<span class="token operator">&gt;</span> ZADD myzset <span class="token number">0</span> aaaa <span class="token number">0</span> b <span class="token number">0</span> c <span class="token number">0</span> d <span class="token number">0</span> e
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">5</span>
redis<span class="token operator">&gt;</span> ZADD myzset <span class="token number">0</span> foo <span class="token number">0</span> zap <span class="token number">0</span> <span class="token function">zip</span> <span class="token number">0</span> ALPHA <span class="token number">0</span> alpha
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">5</span>
redis<span class="token operator">&gt;</span> ZRANGE myzset <span class="token number">0</span> <span class="token parameter variable">-1</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;ALPHA&quot;</span>
 <span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;aaaa&quot;</span>
 <span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;alpha&quot;</span>
 <span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;b&quot;</span>
 <span class="token number">5</span><span class="token punctuation">)</span> <span class="token string">&quot;c&quot;</span>
 <span class="token number">6</span><span class="token punctuation">)</span> <span class="token string">&quot;d&quot;</span>
 <span class="token number">7</span><span class="token punctuation">)</span> <span class="token string">&quot;e&quot;</span>
 <span class="token number">8</span><span class="token punctuation">)</span> <span class="token string">&quot;foo&quot;</span>
 <span class="token number">9</span><span class="token punctuation">)</span> <span class="token string">&quot;zap&quot;</span>
<span class="token number">10</span><span class="token punctuation">)</span> <span class="token string">&quot;zip&quot;</span>
redis<span class="token operator">&gt;</span> ZREMRANGEBYLEX myzset <span class="token punctuation">[</span>alpha <span class="token punctuation">[</span>omega
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">6</span>
redis<span class="token operator">&gt;</span> ZRANGE myzset <span class="token number">0</span> <span class="token parameter variable">-1</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;ALPHA&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;aaaa&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;zap&quot;</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;zip&quot;</span>
</code></pre></div><h4 id="tedis-12"><a href="#tedis-12" class="header-anchor">#</a> <em>Tedis</em></h4> <ul><li>接口：</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token function">zremrangebylex</span><span class="token punctuation">(</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> min<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> max<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>示例：</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">await</span> Zset<span class="token punctuation">.</span><span class="token function">zremrangebylex</span><span class="token punctuation">(</span><span class="token string">&quot;myzset&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;[alpha&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;[omega&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 6</span>
</code></pre></div><h2 id="zremrangebyrank"><a href="#zremrangebyrank" class="header-anchor">#</a> zremrangebyrank</h2> <p>移除有序集 key 中，指定排名(rank)区间内的所有成员。下标参数 start 和 stop 都以 0 为底，0 处是分数最小的那个元素。这些索引也可是负数，表示位移从最高分处开始数。例如，-1 是分数最高的元素，-2 是分数第二高的，依次类推。</p> <h4 id="redis-13"><a href="#redis-13" class="header-anchor">#</a> <em>Redis</em> <a href="http://www.redis.cn/commands/zremrangebyrank.html" target="_blank" rel="noopener noreferrer">+<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h4> <ul><li>可用版本：<code>&gt;= 2.0.0</code></li> <li>算法复杂度：<code>O(log(N)+M)</code></li> <li>返回值：the number of elements removed.</li> <li>指令案例：</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code>redis<span class="token operator">&gt;</span> ZADD myzset <span class="token number">1</span> <span class="token string">&quot;one&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
redis<span class="token operator">&gt;</span> ZADD myzset <span class="token number">2</span> <span class="token string">&quot;two&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
redis<span class="token operator">&gt;</span> ZADD myzset <span class="token number">3</span> <span class="token string">&quot;three&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
redis<span class="token operator">&gt;</span> ZREMRANGEBYRANK myzset <span class="token number">0</span> <span class="token number">1</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span>
redis<span class="token operator">&gt;</span> ZRANGE myzset <span class="token number">0</span> <span class="token parameter variable">-1</span> WITHSCORES
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;three&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;3&quot;</span>
</code></pre></div><h4 id="tedis-13"><a href="#tedis-13" class="header-anchor">#</a> <em>Tedis</em></h4> <ul><li>接口：</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token function">zremrangebyrank</span><span class="token punctuation">(</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> start<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> stop<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>示例：</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">await</span> Zset<span class="token punctuation">.</span><span class="token function">zremrangebyrank</span><span class="token punctuation">(</span><span class="token string">&quot;myzset&quot;</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 2</span>
</code></pre></div><h2 id="zremrangebyscore"><a href="#zremrangebyscore" class="header-anchor">#</a> zremrangebyscore</h2> <p>移除有序集 key 中，所有 score 值介于 min 和 max 之间(包括等于 min 或 max)的成员。 自版本 2.1.6 开始，score 值等于 min 或 max 的成员也可以不包括在内</p> <h4 id="redis-14"><a href="#redis-14" class="header-anchor">#</a> <em>Redis</em> <a href="http://www.redis.cn/commands/zremrangebyscore.html" target="_blank" rel="noopener noreferrer">+<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h4> <ul><li>可用版本：<code>&gt;= 1.2.0</code></li> <li>算法复杂度：<code>O(log(N)+M)</code></li> <li>返回值：删除元素的个数。</li> <li>指令案例：</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code>redis<span class="token operator">&gt;</span> ZADD myzset <span class="token number">1</span> <span class="token string">&quot;one&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
redis<span class="token operator">&gt;</span> ZADD myzset <span class="token number">2</span> <span class="token string">&quot;two&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
redis<span class="token operator">&gt;</span> ZADD myzset <span class="token number">3</span> <span class="token string">&quot;three&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
redis<span class="token operator">&gt;</span> ZREMRANGEBYSCORE myzset <span class="token parameter variable">-inf</span> <span class="token punctuation">(</span><span class="token number">2</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
redis<span class="token operator">&gt;</span> ZRANGE myzset <span class="token number">0</span> <span class="token parameter variable">-1</span> WITHSCORES
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;two&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;2&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;three&quot;</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;3&quot;</span>
</code></pre></div><h4 id="tedis-14"><a href="#tedis-14" class="header-anchor">#</a> <em>Tedis</em></h4> <ul><li>接口：</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token function">zremrangebyscore</span><span class="token punctuation">(</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> min<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> max<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>示例：</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">await</span> Zset<span class="token punctuation">.</span><span class="token function">zremrangebyscore</span><span class="token punctuation">(</span><span class="token string">&quot;myzset&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;-inf&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;(2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 1</span>
</code></pre></div><h2 id="zrevrange"><a href="#zrevrange" class="header-anchor">#</a> zrevrange</h2> <p>返回有序集 key 中，指定区间内的成员。其中成员的位置按 score 值递减(从大到小)来排列。具有相同 score 值的成员按字典序的反序排列。</p> <h4 id="redis-15"><a href="#redis-15" class="header-anchor">#</a> <em>Redis</em> <a href="http://www.redis.cn/commands/zrevrange.html" target="_blank" rel="noopener noreferrer">+<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h4> <ul><li>可用版本：<code>&gt;= 1.2.0</code></li> <li>算法复杂度：<code>O(log(N)+M)</code></li> <li>返回值：指定范围的元素列表(可选是否含有分数)。</li> <li>指令案例：</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code>redis<span class="token operator">&gt;</span> ZADD myzset <span class="token number">1</span> <span class="token string">&quot;one&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
redis<span class="token operator">&gt;</span> ZADD myzset <span class="token number">2</span> <span class="token string">&quot;two&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
redis<span class="token operator">&gt;</span> ZADD myzset <span class="token number">3</span> <span class="token string">&quot;three&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
redis<span class="token operator">&gt;</span> ZREVRANGE myzset <span class="token number">0</span> <span class="token parameter variable">-1</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;three&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;two&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;one&quot;</span>
redis<span class="token operator">&gt;</span> ZREVRANGE myzset <span class="token number">2</span> <span class="token number">3</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;one&quot;</span>
redis<span class="token operator">&gt;</span> ZREVRANGE myzset <span class="token parameter variable">-2</span> <span class="token parameter variable">-1</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;two&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;one&quot;</span>
</code></pre></div><h4 id="tedis-15"><a href="#tedis-15" class="header-anchor">#</a> <em>Tedis</em></h4> <ul><li>接口：</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token function">zrevrange</span><span class="token punctuation">(</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> start<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> stop<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token function">zrevrange</span><span class="token punctuation">(</span>
  key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  start<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
  stop<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
  withscores<span class="token operator">:</span> <span class="token string">&quot;WITHSCORES&quot;</span>
<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token punctuation">{</span> <span class="token punctuation">[</span>propName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token function">zrevrange</span><span class="token punctuation">(</span>
  key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  start<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
  stop<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
  withscores<span class="token operator">?</span><span class="token operator">:</span> <span class="token string">&quot;WITHSCORES&quot;</span>
<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>示例：</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">await</span> Zset<span class="token punctuation">.</span><span class="token function">zrevrange</span><span class="token punctuation">(</span><span class="token string">&quot;myzset&quot;</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// [&quot;three&quot;, &quot;two&quot;, &quot;one&quot;];</span>
<span class="token keyword">await</span> Zset<span class="token punctuation">.</span><span class="token function">zrevrange</span><span class="token punctuation">(</span><span class="token string">&quot;myzset&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// [&quot;one&quot;];</span>
<span class="token keyword">await</span> Zset<span class="token punctuation">.</span><span class="token function">zrevrange</span><span class="token punctuation">(</span><span class="token string">&quot;myzset&quot;</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// [&quot;two&quot;, &quot;one&quot;];</span>
</code></pre></div><h2 id="zrevrangebyscore"><a href="#zrevrangebyscore" class="header-anchor">#</a> zrevrangebyscore</h2> <p>返回有序集中指定分数区间内的所有的成员。有序集成员按分数值递减(从大到小)的次序排列。具有相同分数值的成员按字典序的逆序(reverse lexicographical order )排列。</p> <h4 id="redis-16"><a href="#redis-16" class="header-anchor">#</a> <em>Redis</em> <a href="http://www.redis.cn/commands/zrevrangebyscore.html" target="_blank" rel="noopener noreferrer">+<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h4> <ul><li>可用版本：<code>&gt;= 2.2.0</code></li> <li>算法复杂度：<code>O(log(N)+M)</code></li> <li>返回值：指定区间内，带有分数值(可选)的有序集成员的列表。</li> <li>指令案例：</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code>redis<span class="token operator">&gt;</span> ZADD myzset <span class="token number">1</span> <span class="token string">&quot;one&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
redis<span class="token operator">&gt;</span> ZADD myzset <span class="token number">2</span> <span class="token string">&quot;two&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
redis<span class="token operator">&gt;</span> ZADD myzset <span class="token number">3</span> <span class="token string">&quot;three&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
redis<span class="token operator">&gt;</span> ZREVRANGEBYSCORE myzset +inf <span class="token parameter variable">-inf</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;three&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;two&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;one&quot;</span>
redis<span class="token operator">&gt;</span> ZREVRANGEBYSCORE myzset <span class="token number">2</span> <span class="token number">1</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;two&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;one&quot;</span>
redis<span class="token operator">&gt;</span> ZREVRANGEBYSCORE myzset <span class="token number">2</span> <span class="token punctuation">(</span><span class="token number">1</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;two&quot;</span>
redis<span class="token operator">&gt;</span> ZREVRANGEBYSCORE myzset <span class="token punctuation">(</span><span class="token number">2</span> <span class="token punctuation">(</span><span class="token number">1</span>
<span class="token punctuation">(</span>empty list or <span class="token builtin class-name">set</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="tedis-16"><a href="#tedis-16" class="header-anchor">#</a> <em>Tedis</em></h4> <ul><li>接口：</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token function">zrevrangebyscore</span><span class="token punctuation">(</span>
  key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  max<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  min<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  options<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    limit<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      offset<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
      count<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token function">zrevrangebyscore</span><span class="token punctuation">(</span>
  key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  max<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  min<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  options<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    withscores<span class="token operator">:</span> <span class="token string">&quot;WITHSCORES&quot;</span><span class="token punctuation">;</span>
    limit<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      offset<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
      count<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token punctuation">{</span> <span class="token punctuation">[</span>propName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token function">zrevrangebyscore</span><span class="token punctuation">(</span>
  key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  max<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  min<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  options<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    limit<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      offset<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
      count<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    withscores<span class="token operator">?</span><span class="token operator">:</span> <span class="token string">&quot;WITHSCORES&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>示例：</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">await</span> Zset<span class="token punctuation">.</span><span class="token function">zrevrangebyscore</span><span class="token punctuation">(</span><span class="token string">&quot;myzset&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;+inf&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;-inf&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// [&quot;three&quot;, &quot;two&quot;, &quot;one&quot;];</span>
<span class="token keyword">await</span> Zset<span class="token punctuation">.</span><span class="token function">zrevrangebyscore</span><span class="token punctuation">(</span><span class="token string">&quot;myzset&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;(1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// [&quot;two&quot;];</span>
<span class="token keyword">await</span> Zset<span class="token punctuation">.</span><span class="token function">zrevrangebyscore</span><span class="token punctuation">(</span><span class="token string">&quot;myzset&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;(2&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;(1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// [];</span>
</code></pre></div><h2 id="zrevrank"><a href="#zrevrank" class="header-anchor">#</a> zrevrank</h2> <p>返回有序集 key 中成员 member 的排名，其中有序集成员按 score 值从大到小排列。排名以 0 为底，也就是说，score 值最大的成员排名为 0。</p> <h4 id="redis-17"><a href="#redis-17" class="header-anchor">#</a> <em>Redis</em> <a href="http://www.redis.cn/commands/zrevrank.html" target="_blank" rel="noopener noreferrer">+<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h4> <ul><li>可用版本：<code>&gt;= 2.0.0</code></li> <li>算法复杂度：<code>O(log(N))</code></li> <li>返回值：
<ul><li>如果 member 是有序集 key 的成员，返回 member 的排名。</li> <li>如果 member 不是有序集 key 的成员，返回 nil。</li></ul></li> <li>指令案例：</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code>redis<span class="token operator">&gt;</span> ZADD myzset <span class="token number">1</span> <span class="token string">&quot;one&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
redis<span class="token operator">&gt;</span> ZADD myzset <span class="token number">2</span> <span class="token string">&quot;two&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
redis<span class="token operator">&gt;</span> ZADD myzset <span class="token number">3</span> <span class="token string">&quot;three&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
redis<span class="token operator">&gt;</span> ZREVRANK myzset <span class="token string">&quot;one&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span>
redis<span class="token operator">&gt;</span> ZREVRANK myzset <span class="token string">&quot;four&quot;</span>
<span class="token punctuation">(</span>nil<span class="token punctuation">)</span>
</code></pre></div><h4 id="tedis-17"><a href="#tedis-17" class="header-anchor">#</a> <em>Tedis</em></h4> <ul><li>接口：</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token function">zrevrank</span><span class="token punctuation">(</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> member<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token builtin">number</span> <span class="token operator">|</span> <span class="token keyword">null</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>示例：</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">await</span> Zset<span class="token punctuation">.</span><span class="token function">zrevrank</span><span class="token punctuation">(</span><span class="token string">&quot;myzset&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;one&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 2</span>
<span class="token keyword">await</span> Zset<span class="token punctuation">.</span><span class="token function">zrevrank</span><span class="token punctuation">(</span><span class="token string">&quot;myzset&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;four&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// null</span>
</code></pre></div><h2 id="zscore"><a href="#zscore" class="header-anchor">#</a> zscore</h2> <p>返回有序集 key 中，成员 member 的 score 值。如果 member 元素不是有序集 key 的成员，或 key 不存在，返回 nil。</p> <h4 id="redis-18"><a href="#redis-18" class="header-anchor">#</a> <em>Redis</em> <a href="http://www.redis.cn/commands/zscore.html" target="_blank" rel="noopener noreferrer">+<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h4> <ul><li>可用版本：<code>&gt;= 1.2.0</code></li> <li>算法复杂度：<code>O(1)</code></li> <li>返回值：member 成员的 score 值（double 型浮点数），以字符串形式表示。</li> <li>指令案例：</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code>redis<span class="token operator">&gt;</span> ZADD myzset <span class="token number">1</span> <span class="token string">&quot;one&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
redis<span class="token operator">&gt;</span> ZSCORE myzset <span class="token string">&quot;one&quot;</span>
<span class="token string">&quot;1&quot;</span>
</code></pre></div><h4 id="tedis-18"><a href="#tedis-18" class="header-anchor">#</a> <em>Tedis</em></h4> <ul><li>接口：</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token function">zscore</span><span class="token punctuation">(</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> member<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token builtin">string</span> <span class="token operator">|</span> <span class="token keyword">null</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>示例：</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">await</span> Zset<span class="token punctuation">.</span><span class="token function">zscore</span><span class="token punctuation">(</span><span class="token string">&quot;myzset&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;one&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &quot;1&quot;</span>
</code></pre></div><h2 id="zunionstore"><a href="#zunionstore" class="header-anchor">#</a> zunionstore</h2> <p>计算给定的一个或多个有序集的并集，其中给定 key 的数量必须以 numkeys 参数指定，并将该并集(结果集)储存到 destination 。
默认情况下，结果集中某个成员的分数值是所有给定集下该成员分数值之和 。</p> <h4 id="redis-19"><a href="#redis-19" class="header-anchor">#</a> <em>Redis</em> <a href="http://www.redis.cn/commands/zunionstore.html" target="_blank" rel="noopener noreferrer">+<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h4> <ul><li>可用版本：<code>&gt;= 2.0.0</code></li> <li>算法复杂度：<code>O(N)+O(M log(M))</code></li> <li>返回值：结果有序集合 destination 中元素个数。</li> <li>指令案例：</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code>redis<span class="token operator">&gt;</span> ZADD zset1 <span class="token number">1</span> <span class="token string">&quot;one&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
redis<span class="token operator">&gt;</span> ZADD zset1 <span class="token number">2</span> <span class="token string">&quot;two&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
redis<span class="token operator">&gt;</span> ZADD zset2 <span class="token number">1</span> <span class="token string">&quot;one&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
redis<span class="token operator">&gt;</span> ZADD zset2 <span class="token number">2</span> <span class="token string">&quot;two&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
redis<span class="token operator">&gt;</span> ZADD zset2 <span class="token number">3</span> <span class="token string">&quot;three&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
redis<span class="token operator">&gt;</span> ZUNIONSTORE out <span class="token number">2</span> zset1 zset2 WEIGHTS <span class="token number">2</span> <span class="token number">3</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">3</span>
redis<span class="token operator">&gt;</span> ZRANGE out <span class="token number">0</span> <span class="token parameter variable">-1</span> WITHSCORES
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;one&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;5&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;three&quot;</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;9&quot;</span>
<span class="token number">5</span><span class="token punctuation">)</span> <span class="token string">&quot;two&quot;</span>
<span class="token number">6</span><span class="token punctuation">)</span> <span class="token string">&quot;10&quot;</span>
</code></pre></div><h4 id="tedis-19"><a href="#tedis-19" class="header-anchor">#</a> <em>Tedis</em></h4> <ul><li>接口：</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token function">zunionstore</span><span class="token punctuation">(</span>
  destination<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  objectKW<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token punctuation">[</span>PropName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  aggregate<span class="token operator">?</span><span class="token operator">:</span> <span class="token string">&quot;SUM&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;MIN&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;MAX&quot;</span>
<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>示例：</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">await</span> Zset<span class="token punctuation">.</span><span class="token function">zunionstore</span><span class="token punctuation">(</span><span class="token string">&quot;out&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  zset1<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  zset2<span class="token operator">:</span> <span class="token number">3</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 3</span>
</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/silkjs/tedis/edit/master/doc/zh/api/zset.md" target="_blank" rel="noopener noreferrer">在 GitHub 上编辑此页</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2019/11/2 12:27:50</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/zh/api/set.html" class="prev">
        set
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.16e1a090.js" defer></script><script src="/assets/js/2.c2a5290c.js" defer></script><script src="/assets/js/1.bcf7a7a0.js" defer></script><script src="/assets/js/45.d346ef8b.js" defer></script>
  </body>
</html>
